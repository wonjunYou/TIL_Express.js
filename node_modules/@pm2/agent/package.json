{
  "_args": [
    [
      {
        "raw": "@pm2/agent@~1.0.2",
        "scope": "@pm2",
        "escapedName": "@pm2%2fagent",
        "name": "@pm2/agent",
        "rawSpec": "~1.0.2",
        "spec": ">=1.0.2 <1.1.0",
        "type": "range"
      },
      "C:\\Users\\Wonjun_You\\Desktop\\Express.js\\node_modules\\pm2"
    ]
  ],
  "_from": "@pm2/agent@~1.0.2",
  "_hasShrinkwrap": false,
  "_id": "@pm2/agent@1.0.4",
  "_location": "/@pm2/agent",
  "_nodeVersion": "10.16.3",
  "_npmOperationalInternal": {
    "host": "s3://npm-registry-packages",
    "tmp": "tmp/agent_1.0.4_1587689998608_0.33885141328382695"
  },
  "_npmUser": {
    "name": "keymetrics_bot",
    "email": "tech@keymetrics.io"
  },
  "_npmVersion": "6.9.0",
  "_phantomChildren": {
    "amp": "0.3.1",
    "amp-message": "0.1.2",
    "escape-regexp": "0.0.1",
    "ms": "2.1.2"
  },
  "_requested": {
    "raw": "@pm2/agent@~1.0.2",
    "scope": "@pm2",
    "escapedName": "@pm2%2fagent",
    "name": "@pm2/agent",
    "rawSpec": "~1.0.2",
    "spec": ">=1.0.2 <1.1.0",
    "type": "range"
  },
  "_requiredBy": [
    "/pm2"
  ],
  "_resolved": "https://registry.npmjs.org/@pm2/agent/-/agent-1.0.4.tgz",
  "_shasum": "1a7275e1415cd26a530405816ff5e453abb8fd8c",
  "_shrinkwrap": null,
  "_spec": "@pm2/agent@~1.0.2",
  "_where": "C:\\Users\\Wonjun_You\\Desktop\\Express.js\\node_modules\\pm2",
  "author": {
    "name": "Keymetrics Team"
  },
  "dependencies": {
    "async": "~3.2.0",
    "chalk": "~3.0.0",
    "dayjs": "~1.8.24",
    "debug": "~4.1.1",
    "eventemitter2": "~5.0.1",
    "fclone": "~1.0.11",
    "nssocket": "0.6.0",
    "pm2-axon": "^3.2.0",
    "pm2-axon-rpc": "^0.5.0",
    "proxy-agent": "~3.1.1",
    "semver": "~7.2.0",
    "ws": "~7.2.0"
  },
  "description": "PM2.io Agent Daemon",
  "devDependencies": {
    "clone": "^2.1.1",
    "mocha": "^7.1",
    "nock": "^9.2.3",
    "simple-socks": "^1.0.2"
  },
  "directories": {
    "test": "test"
  },
  "dist": {
    "integrity": "sha512-cZLwaoLa45FRuetKCcoI3kHnnQ7VMLpZnmVom04MoK0cpY/RxcSarkCHSCu9V+pdARwxx96QrWdrtAJdw97dng==",
    "shasum": "1a7275e1415cd26a530405816ff5e453abb8fd8c",
    "tarball": "https://registry.npmjs.org/@pm2/agent/-/agent-1.0.4.tgz",
    "fileCount": 27,
    "unpackedSize": 164291,
    "npm-signature": "-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJeojoPCRA9TVsSAnZWagAAsHIP/ilKiCjmlUlYXTqczF1u\n3g1ti6ejBHsFS0iqb17Zg55tpQPKn4TVm2svZ067dM1ntzX8RKaeJpwK853b\narL9NUtN/zo/2gr8gEPxioTg88imWxqh/WZ7XaTWRjMcCn835nkitfey/Iol\nTGOEaLBxY8BBtq+p9CEuXW/BYJIzm1Tn069j0peqSJu2pFmHQO1aux/zbAec\nneRHkRo6UZer4Hk4vwqtZU2fBJttdUgoyfYiQX/HiEidunbHNtpS6VSJP+uF\nI53CoRx6tz8ub7vQ1uBwo+z0ish5oj1kx+3+TWecnbqSoVbmYPWNF012FwLh\n6AMr6ie/99OKjJaBnPWxRZuiYAte05B1046PtHYROSGNVFkyHLfwY6gqakow\n7K6NkVGnazQ160NJrz1bRSYQhDQeB7CTtyN+Vbr/yk2+MfL9nMOBPEUs/lHt\nuosOJ0wsnxBHP/PkYniJVBm0ACRR4IcN3N95wEQW+J4spdpGXDewp3LZknZP\nSvXHKnilJbdPB52mtxFHu4sXpHYpahEHDh+fUEJ2RwcjPTaAFLogfF6r1GgO\nxE+NSj7diI89mKtTb7Y+2emLDql5U03P0BcNIBA+U3CDiK75L4lCmEuJbLsd\np99LW3B4xEwvVCEFke+MvLGX56WQqmW0vNw3Zd8Qwb3dbAjpF4m7Q03Ce06R\nt9XO\r\n=/GtK\r\n-----END PGP SIGNATURE-----\r\n"
  },
  "gitHead": "dbf98d7496c756ce1eaba7bb6e0ddf942e661d8d",
  "keywords": [
    "keymetrics",
    "agent",
    "daemon",
    "pm2"
  ],
  "license": "AGPL-3.0",
  "main": "index.js",
  "maintainers": [
    {
      "name": "keymetrics_bot",
      "email": "tech@keymetrics.io"
    },
    {
      "name": "tknew",
      "email": "strzelewicz.alexandre@gmail.com"
    }
  ],
  "name": "@pm2/agent",
  "optionalDependencies": {},
  "readme": "# pm2-io-agent\n\nThis module is used by [PM2](https://github.com/Unitech/pm2) to communicate with [PM2.io](https://pm2.io/plus)'s servers.\n\n## Transporters\n\nTwo transporters are available now, AxonTransporter and WebsocketTransporter.\n\nAxonTransporter is using [axon pub-emitter](https://github.com/tj/axon) to send data (PushInteractor) to interaction server and [nssocket](https://github.com/foreverjs/nssocket) to receive data from reverse interaction server.\n\nWebsocketTransporter is using [websocket](https://github.com/websockets/ws) to send and receive data from websocket server.\n\n## Launch\n\n### Using daemon\n\nTo launch using daemon you need to run :\n\n`node src/InteractorDaemon.js`\n\n\nBefore, you need to set these environment vars\n\n| Key              | Value                                     |\n|------------------|-------------------------------------------|\n| KEYMETRICS_NODE  | Where bucket's endpoints will be resolved |\n| PM2_SECRET_KEY   | Bucket's secret key                       |\n| PM2_PUBLIC_KEY   | Bucket's public key                       |\n| PM2_MACHINE_NAME | Machine name                              |\n| PM2_VERSION      | PM2 Version                               |\n\n### Using client\n\nYou can use `src/InteractorClient.js` and method `launchAndInteract` with constants as first argument (empty object is authorized), options as second argument which is an object with key `secret_key`, `public_key`, `machine_name` and callback as third argument.\n\n```js\nconst InteractorClient = require('keymetrics-agent/src/InteractorClient')\n\nInteractorClient.launchAndInteract({}, {\n  secret_key: '',\n  public_key: '',\n  machine_name: ''\n}, (err, msg) => {\n})\n```\n\n## Configuration\n\nTo configure this agent you can use `config.json`. \n\n### Default\n\nBy default `AxonTransporter` is enabled and using `push` and `reverse` bucket's endpoint. \nYou can override this endpoints with `AGENT_PUSH_ENDPOINT` and `AGENT_REVERSE_ENDPOINT` environements' vars\n\nBy default `WebsocketTransporter` is disabled, you can enabled it with `AGENT_TRANSPORT_WEBSOCKET` environement's var, it's using `websocket` bucket's endpoint but you can override it with `AGENT_WEBSOCKET_ENDPOINT` environement's var.\n\n### Transporters\n\nInto this configuration you can put `transporter name` as key and for values, two keys are available `enabled` and `endpoints`. \n\nThe `enabled` key is using to disable or enable transporter.\n\nThe `endpoints` key can be a string or an object. It depends on what the connect method of the transporter needs. \nIf you set a string, the connect method will be called with endpoint's value or raw value if no endpoint is matched.\nFor objects, the connect method will be called with this object, and value of the keys will be replaced by endpoint's value or raw value if no endpoint is matched.\n\n## Release\n\nTo release a new version, first install [gren](https://github.com/github-tools/github-release-notes) :\n```bash\nyarn global add github-release-notes\n```\n\nPush a commit in github with the new version you want to release : \n```\ngit commit -am \"version: major|minor|patch bump to X.X.X\"\n```\n\nCare for the **versionning**, we use the [semver versioning](https://semver.org/) currently. Please be careful about the version when pushing a new package.\n\nThen tag a version with git : \n```bash\ngit tag -s vX.X.X\n```\n\nPush the tag into github (this will trigger the publish to npm) : \n```\ngit push origin vX.X.X\n```\n\nTo finish update the changelog of the release on github with `gren` (be sure that gren has selected the right tags):\n```\ngren release -o -D commits -u keymetrics -r pm2-io-agent\n```",
  "readmeFilename": "README.md",
  "scripts": {
    "test": "mocha test/units/*.mocha.js"
  },
  "version": "1.0.4"
}
